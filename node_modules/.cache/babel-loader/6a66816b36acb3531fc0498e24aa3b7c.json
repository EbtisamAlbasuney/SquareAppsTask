{"ast":null,"code":"import _regeneratorRuntime from\"H:/React/EdVoraTask/first-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"H:/React/EdVoraTask/first-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"H:/React/EdVoraTask/first-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import'./productList.css';import Product from\"./product\";import axios from\"axios\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faAngleLeft,faAngleRight}from\"@fortawesome/free-solid-svg-icons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ProductList(_ref){var catogory=_ref.catogory,city=_ref.city,product=_ref.product,state=_ref.state;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),pagenumber=_useState2[0],setPagenumber=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),products=_useState4[0],setProducts=_useState4[1];useEffect(function(){var getProduct=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var filterUrl,response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;filterUrl=\"\";if(city!=\"\"){filterUrl=filterUrl.concat(\"&address.city=\".concat(city));}if(state){filterUrl=filterUrl.concat(\"&address.state=\".concat(state));}if(product){filterUrl=filterUrl.concat(\"&product_name=\".concat(product));}console.log(city,filterUrl);_context.next=8;return axios.get(\"http://localhost:3004/products?_limit=4&_page=\".concat(pagenumber,\"&brand_name=\").concat(catogory).concat(filterUrl));case 8:response=_context.sent;_context.next=11;return response.data;case 11:data=_context.sent;setProducts(data);console.log(data);_context.next=19;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 19:case\"end\":return _context.stop();}}},_callee,null,[[0,16]]);}));return function getProduct(){return _ref2.apply(this,arguments);};}();getProduct();},[pagenumber,city,product,state]);console.log(pagenumber);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"col-lg-12 category-name\",children:catogory}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){setPagenumber(pagenumber-1);},disabled:pagenumber==1?true:false,children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faAngleLeft})}),/*#__PURE__*/_jsx(\"div\",{className:\"products-container col-12\",children:products?products.map(function(item){return/*#__PURE__*/_jsx(Product,{image:item.image,address:item.address,product_name:item.product_name,brand_name:item.brand_name,price:item.price,date:item.date,discription:item.discription});}):'no product'}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){setPagenumber(pagenumber+1);},disabled:(products===null||products===void 0?void 0:products.length)===0?true:false,children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faAngleRight})})]})]});}export default ProductList;","map":{"version":3,"sources":["H:/React/EdVoraTask/first-app/src/components/productList.jsx"],"names":["React","useEffect","useState","Product","axios","FontAwesomeIcon","faAngleLeft","faAngleRight","ProductList","catogory","city","product","state","pagenumber","setPagenumber","products","setProducts","getProduct","filterUrl","concat","console","log","get","response","data","map","item","image","address","product_name","brand_name","price","date","discription","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport './productList.css';\r\nimport Product from \"./product\";\r\nimport axios from \"axios\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport {faAngleLeft,faAngleRight} from \"@fortawesome/free-solid-svg-icons\"\r\n\r\n\r\n\r\nfunction ProductList({catogory,city, product, state}) {\r\n\r\n const[pagenumber,setPagenumber]= useState (1)\r\n const[products,setProducts]=useState();\r\n\r\n\r\n\r\n\r\n\r\n  useEffect(()=>{\r\n   const getProduct = async()=>{\r\n\r\n   \r\n     try {\r\n      let filterUrl = \"\"\r\n      if (city!=\"\"){\r\n        filterUrl = filterUrl.concat(`&address.city=${city}`)\r\n      }\r\n      if(state){\r\n        filterUrl= filterUrl.concat(`&address.state=${state}`)\r\n      }\r\n      if (product){\r\n        filterUrl= filterUrl.concat(`&product_name=${product}`)\r\n      }\r\n      console.log(city,filterUrl)\r\n      const response = await axios.get(`http://localhost:3004/products?_limit=4&_page=${pagenumber}&brand_name=${catogory}${filterUrl}`)\r\n      const data = await  response.data\r\n      setProducts(data)\r\n      console.log(data)\r\n       \r\n     } catch (error) {\r\n       console.log(error);\r\n       \r\n     }\r\n   }\r\n   getProduct()\r\n  },[pagenumber,city,product,state])\r\n\r\n  console.log(pagenumber)\r\n\r\n  return (\r\n    <div>\r\n       \r\n           <p className=\"col-lg-12 category-name\" >{catogory}</p>\r\n\r\n<div className=\"d-flex\">\r\n<button onClick={()=>{setPagenumber(pagenumber-1)}}disabled={pagenumber==1?true:false}>\r\n       \r\n       <FontAwesomeIcon icon={faAngleLeft} />\r\n       </button>\r\n       <div className=\"products-container col-12\">\r\n         {products?products.map(item=>{\r\n           return   <Product\r\n           image={item.image}\r\n            address={item.address}\r\n             product_name={item.product_name}\r\n              brand_name={item.brand_name}\r\n               price={item.price}\r\n                date={item.date}\r\n                 discription={item.discription}\r\n           />\r\n         }):'no product'}\r\n           \r\n          \r\n\r\n       </div>\r\n       <button onClick={()=>{setPagenumber(pagenumber+1)}}disabled={products?.length===0?true:false}>\r\n       <FontAwesomeIcon icon={faAngleRight} />\r\n       </button>\r\n</div>\r\n        \r\n       \r\n\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductList;"]},"metadata":{},"sourceType":"module"}